section .data
GDT_CODE: EQU GDT_START.CODE - GDT_START
GDT_DATA: EQU GDT_START.DATA - GDT_START

GDT_START:
    DD 0X00000000
    DD 0X00000000
.CODE:
    DW 0XFFFF
    DW 0
    DB 0
    DB 0X9A
    DB 0XCF
    DB 0
.DATA:
    DW 0XFFFF
    DW 0
    DB 0
    DB 0X92
    DB 0XCF
    DB 0
.CODE16:
    DW 0XFFFF
    DW 0X0000
    DB 0
    DB 0XFA
    DB 0XCF
    DB 0
.DATA16:
    DW 0XFFFF
    DW 0X0000
    DB 0
    DB 0XF2
    DB 0XCF
    DB 0
GDT_END:
GDT_DESCRIPTOR:
    DW GDT_END - GDT_START - 1
    DD GDT_START